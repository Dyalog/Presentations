<html>
<head><meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>A Tour (de Force) of APL in 16 Expressions</title>
<link href="adoc.css" rel=stylesheet></head>
<body>
<a name="top"></a>

<table width=100%><tr><td width=1>&nbsp;</td>
 <td><font size=+3><b>E. A Memo Operator &mdash; Partition Function</b></td>
 <td valign=top align=right><a href="index.htm">Index</a> &nbsp; 
  <a href="Ec_part2.htm">&lt;&lt;</a> &nbsp; <a href="Ee_memo0.htm">&gt;&gt;</a></td>
</tr></table>

<table><tr><td width=20>&nbsp;</td><td><pre><script src="font.js" type="text/javascript"></script>
   pn  ← {1≥⍵:0≤⍵ ⋄ -/+⌿∇¨rec ⍵}
   rec ← {⍵ - (÷∘2 (×⍤1) ¯1 1 ∘.+ 3∘×) 1+⍳⌈0.5*⍨⍵×2÷3}

   ⍝ don't try to calculate  pn 200  directly!

   rec 200
199 195 188 178 165 149 130 108 83 55 24 ¯10
198 193 185 174 160 143 123 100 74 45 13 ¯22

   rec 199
198 194 187 177 164 148 129 107 82 54 23 ¯11
197 192 184 173 159 142 122  99 73 44 12 ¯23
   rec 195
194 190 183 173 160 144 125 103 78 50 19 ¯15
193 188 180 169 155 138 118  95 69 40  8 ¯27
   rec 188
187 183 176 166 153 137 118 96 71 43 12 ¯22
186 181 173 162 148 131 111 88 62 33  1 ¯34
   ...
</font></pre>
</font></td></tr></table>

</font></td></tr></table>

</body>
</html>
