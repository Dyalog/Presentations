<html>
<head><meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>A Tour (de Force) of APL in 16 Expressions</title>
<link href="adoc.css" rel=stylesheet></head>
<body>
<a name="top"></a>

<table width=100%><tr><td width=1>&nbsp;</td>
 <td><font size=+3><b><font size=+3>6. Parentheses Nesting</font></b></td>
 <td valign=top align=right><a href="index.htm">Index</a> &nbsp; 
  <a href="5a.htm">&lt;&lt;</a> &nbsp; <a href="7.htm">&gt;&gt;</a></td>
</tr></table>

<table><tr><td width=20>&nbsp;</td><td>

<pre><script src="font.js" type="text/javascript"></script>
   depth ← {+\1 ¯1 0['()'⍳⍵]}

   x ← '⍵((∇&lt;S),=S,(∇>S))⍵⌷⍨?≢⍵'

   ⍉ x , ⍪depth x
⍵ ( ( ∇ < S ) , = S , ( ∇ > S ) ) ⍵ ⌷ ⍨ ? ≢ ⍵
0 1 2 2 2 2 1 1 1 1 1 2 2 2 2 1 0 0 0 0 0 0 0

   '()' ⍳ x
2 0 0 2 2 2 1 2 2 2 2 0 2 2 2 1 1 2 2 2 2 2 2
   1 ¯1 0['()' ⍳ x]
0 1 1 0 0 0 ¯1 0 0 0 0 1 0 0 0 ¯1 ¯1 0 0 0 0 0 0
   +\ 1 ¯1 0['()' ⍳ x]
0 1 2 2 2 2 1 1 1 1 1 2 2 2 2 1 0 0 0 0 0 0 0

   ('('=x) - (x=')')
0 1 1 0 0 0 ¯1 0 0 0 0 1 0 0 0 ¯1 ¯1 0 0 0 0 0 0
   +\ ('('=x) - (x=')')
0 1 2 2 2 2 1 1 1 1 1 2 2 2 2 1 0 0 0 0 0 0 0
</font></pre>


</font></td></tr></table>

</body>
</html>
