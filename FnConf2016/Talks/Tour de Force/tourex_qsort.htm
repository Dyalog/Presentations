<html>
<head><title>A Tour (de Force) of APL in 16 Expressions</title>
<link href="adoc.css" rel=stylesheet></head>
</head>

<body>
<table width=100%><tr><td width=1>&nbsp;</td>
 <td><font size=+3><b><font size=+3>Exercise: Quicksort</font></b></td>
 <td valign=top align=right><a href="tourex_index.htm">Index</a> &nbsp; 
  <a href="tourex_paren.htm">&lt;&lt;</a> &nbsp; <a href="tourex_cayley.htm">&gt;&gt;</a></td>
</tr></table>

<table><tr><td nowrap width=20>&nbsp;</td><td>

<pre><script src="font.js" type="text/javascript"></script>
Q←{1≥≢⍵:⍵ ⋄ (∇ ⍵⌿⍨0>s)⍪(⍵⌿⍨0=s)⍪∇ ⍵⌿⍨0&lt;s←⍵ ⍺⍺ ⍵⌷⍨?≢⍵}

S1←{⍵⌷⍨⍺⌷⍋⍵}

S←{
  s←⍵ ⍺⍺ p←⍵⌷⍨?≢⍵
  ⍺<  +/b←0>s:⍺ ∇ b⌿⍵
  ⍺&lt;m←+/b←0≥s:p
  (⍺-m) ∇ (~b)⌿⍵
}

</font></pre>

<table>
<tr><td valign=top><script src="font.js" type="text/javascript"></script>a. &nbsp;</font></td><td>
<script src="font.js" type="text/javascript"></script>
Modify<tt><script src="font.js" type="text/javascript"></script> Q </font></tt>
to catenate the enclose of the 3 parts.
<br>&nbsp;
</font></td></tr>

<tr><td valign=top><script src="font.js" type="text/javascript"></script>b.</font></td><td>
<script src="font.js" type="text/javascript"></script>
Create<tt><script src="font.js" type="text/javascript"></script> Sn </font></tt>
by modifying<tt><script src="font.js" type="text/javascript"></script> S </font></tt>
to hardwire comparisons on numeric scalars.
<br>&nbsp;
</font></td></tr>

<tr><td valign=top><script src="font.js" type="text/javascript"></script>c.</font></td><td>
<script src="font.js" type="text/javascript"></script>
Create a random numeric 
vector<tt><script src="font.js" type="text/javascript"></script> x←?1e6⍴1e9 </font></tt>
and do benchmarks 
on<tt><script src="font.js" type="text/javascript"></script> S1</font></tt>
,<tt><script src="font.js" type="text/javascript"></script> S</font></tt>&nbsp;
,<tt><script src="font.js" type="text/javascript"></script> </font></tt>
and<tt><script src="font.js" type="text/javascript"></script> Sn</font></tt>&nbsp;.

<pre><script src="font.js" type="text/javascript"></script>x ← ? 1e6⍴1e9
i ← ? ≢x
cmpx 'i S1 x' 'i -S x' 'i Sn x'
</font></pre>
</font></td></tr>
</table>

</td></tr></table>


<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

</body>
</html>