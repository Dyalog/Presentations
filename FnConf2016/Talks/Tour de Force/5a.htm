<html>
<head><meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>A Tour (de Force) of APL in 16 Expressions</title>
<link href="adoc.css" rel=stylesheet></head>
<body>
<a name="top"></a>

<table width=100%><tr><td width=1>&nbsp;</td>
 <td><font size=+3><b><font size=+3>5. Permutations</font></b></td>
 <td valign=top align=right><a href="index.htm">Index</a> &nbsp; 
  <a href="5.htm">&lt;&lt;</a> &nbsp; <a href="6.htm">&gt;&gt;</a></td>
</tr></table>
<br>

<table><tr><td width=20>&nbsp;</td><td valign=top>

<table><tr><td>
<pre><script src="font.js" type="text/javascript"></script> p←perm n;i;ind;t         ⍝ version in 1981
⍝ all permutations of ⍳n
 p←(×n,n)⍴⎕io
 →(1≥n)⍴0
 t←perm n-1
 p←(0,n)⍴ind←⍳n
 i←n-~⎕io
l10:p←(i,((i≠ind)/ind)[t]),[⎕io]p
 →(⎕io≤i←i-1)⍴l10

</font></pre>

</td> </tr> 

<tr><td valign=top>
<pre><script src="font.js" type="text/javascript"></script>                          ⍝ version in 2016

perm←{0=⍵:1 0⍴0 ⋄ ,[⍳2] (⊂0,1+∇ ¯1+⍵) ⌷⍤1 ⍒⍤1 ∘.=⍨ ⍳⍵}

 ∘.=⍨ ⍳4        ⍒⍤1 ∘.=⍨ ⍳4         q ⌷⍤1 ⍒⍤1 ∘.=⍨ ⍳4
1 0 0 0        0 1 2 3
0 1 0 0        1 0 2 3
0 0 1 0        2 0 1 3
0 0 0 1        3 0 1 2

</font></pre>
</td></tr></table>

</td></tr></table>

</body>
</html>
